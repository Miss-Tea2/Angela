import{B as m,D as u,I as c,P as a,W as s,a as b,bb as h,ja as d}from"./chunk-CSAMJVRY.js";function v(t){t||(a(v),t=c(s));let e=new b(n=>t.onDestroy(n.next.bind(n)));return n=>n.pipe(m(e))}function D(t,e){let n=!e?.manualCleanup;n&&!e?.injector&&a(D);let l=n?e?.injector?.get(s)??c(s):null,f=g(e?.equal),o;e?.requireSync?o=d({kind:0},{equal:f}):o=d({kind:1,value:e?.initialValue},{equal:f});let p=t.subscribe({next:r=>o.set({kind:1,value:r}),error:r=>{if(e?.rejectErrors)throw r;o.set({kind:2,error:r})}});if(e?.requireSync&&o().kind===0)throw new u(601,!1);return l?.onDestroy(p.unsubscribe.bind(p)),h(()=>{let r=o();switch(r.kind){case 1:return r.value;case 2:throw r.error;case 0:throw new u(601,!1)}},{equal:e?.equal})}function g(t=Object.is){return(e,n)=>e.kind===1&&n.kind===1&&t(e.value,n.value)}function y(t){let e={};for(let n of t)e[n.token.key]=n.value;return e}var O=Symbol("TYPE"),i=class{constructor(e){this.description=e,this.key=Symbol(this.description)}};var w=new i("METADATA_TITLE"),T=new i("METADATA_DESC"),I=new i("METADATA_IMAGE");function F(t){let e=[];return t.title&&e.push({token:w,value:t.title}),t.description&&e.push({token:T,value:t.description}),t.image&&e.push({token:I,value:t.image}),y(e)}export{v as a,D as b,w as c,T as d,I as e,F as f};
