import{B as b,D as m,I as u,P as c,W as s,a as f,bb as h,ka as a}from"./chunk-2DZNDGCF.js";function v(t){t||(c(v),t=u(s));let e=new f(n=>t.onDestroy(n.next.bind(n)));return n=>n.pipe(b(e))}function g(t,e){let n=!e?.manualCleanup;n&&!e?.injector&&c(g);let l=n?e?.injector?.get(s)??u(s):null,d=w(e?.equal),i;e?.requireSync?i=a({kind:0},{equal:d}):i=a({kind:1,value:e?.initialValue},{equal:d});let p=t.subscribe({next:r=>i.set({kind:1,value:r}),error:r=>{if(e?.rejectErrors)throw r;i.set({kind:2,error:r})}});return l?.onDestroy(p.unsubscribe.bind(p)),h(()=>{let r=i();switch(r.kind){case 1:return r.value;case 2:throw r.error;case 0:throw new m(601,"`toSignal()` called with `requireSync` but `Observable` did not emit synchronously.")}},{equal:e?.equal})}function w(t=Object.is){return(e,n)=>e.kind===1&&n.kind===1&&t(e.value,n.value)}function y(t){let e={};for(let n of t)e[n.token.key]=n.value;return e}var O=Symbol("TYPE"),o=class{constructor(e){this.description=e,this.key=Symbol(this.description)}};var D=new o("METADATA_TITLE"),T=new o("METADATA_DESC"),E=new o("METADATA_IMAGE");function F(t){let e=[];return t.title&&e.push({token:D,value:t.title}),t.description&&e.push({token:T,value:t.description}),t.image&&e.push({token:E,value:t.image}),y(e)}export{v as a,g as b,D as c,T as d,E as e,F as f};
